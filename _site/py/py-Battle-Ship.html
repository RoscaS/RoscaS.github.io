<!DOCTYPE html>
<html>

    <head>
        <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- CSS -->

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="http://localhost:4000/py/py-Battle-Ship.html">
  <link rel="alternate" type="application/rss+xml" title="RoscaS" href="http://localhost:4000/feed.xml">

</head>


        
          <script>
	  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
			  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    
  ga('create', 'UA-99742998-1', 'auto');
  ga('send', 'pageview');
    
	</script>


        

        
    </head>

    <body>
        <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Py: Projet Battle-Ships</title>
  <meta name="description" content="Liens utiles">
</head>


        <div class="wrapper">
            <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>

<header class="post-header">

    <center>
		<div class="post-title" itemprop="name headline">Py: Projet Battle-Ships</div>

		<div class="post-meta"><i class="fa fa-calendar-o"></i> <time datetime="03 Aug 2017" itemprop="datePublished">Aug 3 2017</time>

			&nbsp;&nbsp;•&nbsp;&nbsp;<i class="fa fa-user-secret"></i> <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Sol</span>
        	
			<br>
			<i class="fa fa-eye"></i> <span id="busuanzi_value_page_pv"><i class="fa fa-spinner fa-pulse"></i></span>clicks</span>
		</div>

        	
        <div class="post-tags">
        	
			<a class="post-tags-item" href="http://localhost:4000/tags/">divers,</a>
        	
			<a class="post-tags-item" href="http://localhost:4000/tags/">fr,</a>
        	
			<a class="post-tags-item" href="http://localhost:4000/tags/">en</a>
        	
			
		</div>
    </center>

<div class="wrapper">

    <center>      
		<p>
			<a class="link" href="/">Home</a> /
			<a class="link" href="/archive/">Archive</a> /
			<a class="link" href="/category/">Category</a> / 
			<a class="link" href="/tags/">Tags</a> / 
			<a class="link" href="/about/">About</a> /
			<a class="link" href="/contact/">Contact</a>
    	</p>
    </center>
</div>
    
</header>

<article class="post" itemscope itemtype="http://schema.org/BlogPosting">
<div class="post-content">
    <center>
	
	<p></p>
	
    </center>
	<h2>Directory</h2>
</div>

<div id="category"></div>

<div class="post-content" itemprop="articleBody">
    <h2 id="liens-utiles">Liens utiles</h2>

<p>*<a href="/prog/composition-aggregation.html">interne: Composition d’objets</a>
*<a href="https://www.thespruce.com/the-basic-rules-of-battleship-411069">Battleship game: rules</a></p>

<h2 id="rêgles">Rêgles</h2>

<ul>
  <li>2 Joueurs</li>
  <li>2 Grilles par joueur
    <ul>
      <li>Une contient ses propres navires</li>
      <li>L’autre contient un historique des coups faits par le joueur</li>
    </ul>
  </li>
  <li>Grille de 10x10</li>
  <li>5 navires par joueur
    <ul>
      <li>Carrier (5)</li>
      <li>Battleship (4)</li>
      <li>Cruiser (3)</li>
      <li>Submarine (3)</li>
      <li>Destroyer (2)</li>
    </ul>
  </li>
  <li>Placements des navires
    <ul>
      <li>Horizontal</li>
      <li>Vertical</li>
    </ul>
  </li>
  <li>Les navires peuvent se toucher mais pas se chevaucher</li>
</ul>

<h3 id="advanced-gameplay-salvo-variation">Advanced gameplay: Salvo variation</h3>

<ul>
  <li>On the first round of the game, you call out five shots (guesses) and mark each shot with a white peg in your target grid.</li>
  <li>After you’ve called out all five shots (a salvo), your opponent announces which ones were hits and which ships they hit.</li>
  <li>For hits, change the white pegs on your target grid to red pegs. Your opponent places red pegs in the holes of any ships that you hit.</li>
  <li>Continue in this manner until one of your ships is sunk. At that point, you lose one shot from your salvo. If one of your ships sinks, your salvo is reduced to four shots. When two ships sink, the salvo is three shots, and so on.</li>
  <li>Continue game play until one player sinks all the opposing ships and wins the game.</li>
</ul>

<h2 id="objets">Objets</h2>

<ul>
  <li>
    <p>Board</p>
  </li>
  <li>Part</li>
  <li>Ship</li>
  <li>
    <p>specific ship</p>
  </li>
  <li>Tools</li>
</ul>

<h2 id="en-vrac">En vrac</h2>

<h3 id="dictionnaire-board">Dictionnaire (Board)</h3>

<p>Toutes les postions qui se trouvent dans le dictionnaire sont des cases interdites</p>

<p>Exemple de ce à quoi la logique doit arriver suite à l’appel de <code class="highlighter-rouge">set_ship('D3)</code>:</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="n">_board</span> <span class="o">=</span> <span class="p">{}</span>
<span class="c"># occupé par le bateau</span>
<span class="n">_board</span><span class="p">[</span><span class="s">'D3'</span><span class="p">]</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span> <span class="s">"state-str"</span><span class="p">,</span> <span class="s">"part-objet_Part"</span><span class="p">]</span> 
<span class="n">_board</span><span class="p">[</span><span class="s">'E3'</span><span class="p">]</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span> <span class="s">"state-str"</span><span class="p">,</span> <span class="s">"part-objet_Part"</span><span class="p">]</span> 
<span class="n">_board</span><span class="p">[</span><span class="s">'F3'</span><span class="p">]</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span> <span class="s">"state-str"</span><span class="p">,</span> <span class="s">"part-objet_Part"</span><span class="p">]</span> 
<span class="n">_board</span><span class="p">[</span><span class="s">'G3'</span><span class="p">]</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">6</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span> <span class="s">"state-str"</span><span class="p">,</span> <span class="s">"part-objet_Part"</span><span class="p">]</span>
<span class="c"># autour du bateau</span>
<span class="n">_board</span><span class="p">[</span><span class="s">'C2'</span><span class="p">]</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">)]</span>
<span class="n">_board</span><span class="p">[</span><span class="s">'D2'</span><span class="p">]</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">)]</span> 
<span class="n">_board</span><span class="p">[</span><span class="s">'E2'</span><span class="p">]</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">)]</span> 
<span class="n">_board</span><span class="p">[</span><span class="s">'F2'</span><span class="p">]</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">)]</span> 
<span class="n">_board</span><span class="p">[</span><span class="s">'G2'</span><span class="p">]</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">6</span><span class="p">,</span><span class="mi">2</span><span class="p">)]</span>
<span class="n">_board</span><span class="p">[</span><span class="s">'H2'</span><span class="p">]</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">7</span><span class="p">,</span><span class="mi">2</span><span class="p">)]</span>

<span class="n">_board</span><span class="p">[</span><span class="s">'C3'</span><span class="p">]</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)]</span>
<span class="n">_board</span><span class="p">[</span><span class="s">'H3'</span><span class="p">]</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">7</span><span class="p">,</span><span class="mi">3</span><span class="p">)]</span>

<span class="n">_board</span><span class="p">[</span><span class="s">'C4'</span><span class="p">]</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">)]</span>
<span class="n">_board</span><span class="p">[</span><span class="s">'D4'</span><span class="p">]</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">)]</span> 
<span class="n">_board</span><span class="p">[</span><span class="s">'E4'</span><span class="p">]</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">)]</span> 
<span class="n">_board</span><span class="p">[</span><span class="s">'F4'</span><span class="p">]</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">)]</span> 
<span class="n">_board</span><span class="p">[</span><span class="s">'G4'</span><span class="p">]</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">6</span><span class="p">,</span><span class="mi">4</span><span class="p">)]</span>
<span class="n">_board</span><span class="p">[</span><span class="s">'H4'</span><span class="p">]</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">7</span><span class="p">,</span><span class="mi">4</span><span class="p">)]</span>

</code></pre>
</div>

<p>Types de valeurs dans le dico:</p>

<h4 id="occupée-par-ship">Occupée par ship</h4>

<ul>
  <li>Key <script type="math/tex">\Rightarrow</script>  <code class="highlighter-rouge">str</code> ID case (<code class="highlighter-rouge">str(xy)</code> du bateau)</li>
  <li>Value <script type="math/tex">\Rightarrow</script>  <code class="highlighter-rouge">Forbiden</code> objet contenant:
    <ul>
      <li>_pos <script type="math/tex">\Rightarrow</script> <code class="highlighter-rouge">tuple</code> x,y version int de l’ID de la case.</li>
      <li>_tag <script type="math/tex">\Rightarrow</script> <code class="highlighter-rouge">str</code> etat à afficher (string du tag du ship)</li>
      <li>_part <script type="math/tex">\Rightarrow</script> <code class="highlighter-rouge">Part</code> objet partie de bateau
        <ul>
          <li>garde trace de l’etat du ship, interragit avec Ship en f(etat)</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h4 id="interdite-toutes-les-cases-autour-du-bateau">Interdite (toutes les cases autour du bateau)</h4>

<ul>
  <li>Key <script type="math/tex">\Rightarrow</script>  <code class="highlighter-rouge">str</code> ID case</li>
  <li>Value <script type="math/tex">\Rightarrow</script>  <code class="highlighter-rouge">list</code> liste
    <ul>
      <li>_pos <script type="math/tex">\Rightarrow</script> <code class="highlighter-rouge">tuple</code> x,y version int de l’ID de la case.</li>
      <li>_tag <script type="math/tex">\Rightarrow</script> <code class="highlighter-rouge">None</code></li>
      <li>_part <script type="math/tex">\Rightarrow</script> None</li>
    </ul>
  </li>
</ul>

<h3 id="cases-interdides">Cases interdides</h3>

<p>La logique doit vérifier la viabilité d’un placement:</p>

<h4 id="empecher-la-supperposition-de-ships">Empecher la supperposition de Ships</h4>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="k">if</span> <span class="n">liste_coords_ship</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="ow">in</span> <span class="n">board</span><span class="o">.</span><span class="n">_board</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
    <span class="k">break</span>
    <span class="n">msg</span> <span class="n">erreur</span>
</code></pre>
</div>

<ol>
  <li>En fonction de l’orientation du Ship et de sa taille, on crée dynamiquement une liste contenant les coordonnées des cases composant le Ship.</li>
  <li>On compare cette liste avec [ x for x in board._board.values[0]]. Je pense qu’il y a une built-in qui fait exactement ça.</li>
  <li>2 cas:
    <ul>
      <li>Si aucune case du nouveau Ship à placer n’est dedans, on place le Ship</li>
      <li>Dés qu’une case est commune aux deux listes on break et retourne un message d’erreur.</li>
    </ul>
  </li>
</ol>

<h4 id="empecher-le-placement-hors-map">Empecher le placement hors-map</h4>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">liste_coords_ship</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">liste_coords_ship</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">size</span><span class="o">-</span><span class="mi">1</span> <span class="ow">or</span> <span class="n">liste_coords_ship</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="p">:</span>
        <span class="k">break</span>
        <span class="n">msg</span> <span class="n">erreur</span>
</code></pre>
</div>

<ul>
  <li><span style="color:red">Suggestion: toujours commencer par le point le plus éloigné du point initial du bateau !!  </span></li>
</ul>

<h3 id="ships">Ships</h3>

<ul>
  <li>orientation:
    <ul>
      <li>‘h’ <script type="math/tex">\Rightarrow</script> horizontal, de gauche à droite</li>
      <li>‘v’ <script type="math/tex">\Rightarrow</script> vertical, de haut en bas</li>
    </ul>
  </li>
</ul>

</div>

<div>
	
	<div class="tbc"></div>
	
</div>

<!--<div class="share">
    <p>Share this post with: </p>
	<a href="https://twitter.com/intent/tweet?text=Py: Projet Battle-Ships@&amp;url=http://localhost:4000/py/py-Battle-Ship.html" class="twitter-share">
		<span class="fa-stack fa-lg">
			<i class="fa fa-circle fa-stack-2x"></i>
			<i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
		</span>
	</a>
    
	<a href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:4000/py/py-Battle-Ship.html" class="facebook-share">
		<span class="fa-stack fa-lg">
			<i class="fa fa-circle fa-stack-2x"></i>
			<i class="fa fa-facebook fa-stack-1x fa-inverse"></i>
		</span>
	</a>
    
	<a href="https://plus.google.com/share?url=http://localhost:4000/py/py-Battle-Ship.html" class="googleplus-share">
		<span class="fa-stack fa-lg">
			<i class="fa fa-circle fa-stack-2x"></i>
			<i class="fa fa-google-plus fa-stack-1x fa-inverse"></i>
		</span>
	</a>
</div>
-->

<div id="disqus_thread"></div>


 
</div>


</article>

        </div>

    </body>

<footer class="site-footer">
    <div class="wrapper">
        <center>
            <p>
                <a class="link" href="/%20/">Home</a> /
                <a class="link" href="/archive/">Archive</a> /
                <a class="link" href="/category/">Category</a> /
                <a class="link" href="/tags/">Tags</a> /
                <a class="link" href="/about/">About</a> /
                <a class="link" href="/contact/">Contact</a>
            </p>
            <span><script>document.write(new Date().getFullYear());</script></span>
            <span>&copy;</span>

            <a href="mailto:sol.rosca@gmail.com?subject=Hello&nbsp;RoscaS"> RoscaS</a>
            <br>
        </center>
    </div>
</footer>

<foot>
    <foot>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Derictory -->

  <script src="http://code.jquery.com/jquery-1.7.2.min.js"></script>
  <script src="http://yandex.st/highlightjs/6.2/highlight.min.js"></script>

<!-- Hit analytics -->

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

<!-- Directory -->

<script src="/js/main.js"></script>

</foot>

</foot>

</html>
